function goferSeoInputAddFieldRobotsTxt(s,e,t){function i(e,t){let a=d(s);if("user_agents"===t.dataset.prop0){switch(t.dataset.prop2){case"crawl_delay":a[t.dataset.prop0][t.dataset.prop1][t.dataset.prop2]=0;break;case"path_rules":delete a[t.dataset.prop0][t.dataset.prop1][t.dataset.prop2][t.dataset.prop3]}0===parseInt(a[t.dataset.prop0][t.dataset.prop1].crawl_delay,10)&&0===Object.keys(a[t.dataset.prop0][t.dataset.prop1].path_rules).length&&delete a[t.dataset.prop0][t.dataset.prop1],c(self.inputName,a),_(a),g(a)}else"sitemaps"===t.dataset.prop0&&(delete a[t.dataset.prop0][t.dataset.prop1],a[t.dataset.prop0]=a[t.dataset.prop0].filter(function(e){return void 0!==e}),c(self.inputName,a),m(a),g(a))}function p(e,t){let a=[],s,r;for(s in t)r=document.getElementsByName(e+"-"+s)[0],void 0!==r.value?a[s]=r.value:a[s]="NULL";return a}function u(e,t,a){let s;for(s in t)void 0!==a[s]&&(document.getElementsByName(e+"-"+s)[0].value=a[s],document.getElementsByName(e+"-"+s)[0].dispatchEvent(new Event("change")))}function d(e){let t=document.getElementsByName(e)[0].value;return t=JSON.parse(t),t}function c(e,t){document.getElementsByName(e)[0].value=JSON.stringify(t)}function _(l){let e=document.getElementsByClassName("gofer-seo-input-type-add-field-robots-txt")[0],t=e.querySelector("table.gofer-seo-add-field-robots_txt_rules-user_agents-table");t.removeChild(t.querySelector("tbody"));let o=t.createTBody();if(0<Object.keys(l.user_agents).length){t.style.display="table";let r,n;for(r in l.user_agents){let t;if(0!==l.user_agents[r].crawl_delay){let e;e=document.createElement("a"),e.className="dashicons dashicons-trash",e.style.cursor="pointer",e.style.color="#e46363",e.dataset.prop0="user_agents",e.dataset.prop1=r,e.dataset.prop2="crawl_delay",e.dataset.prop3="",e.addEventListener("click",function(e){i(0,this)},!1),n=o.insertRow(),n.insertCell().appendChild(e),t=n.insertCell(),t.appendChild(document.createTextNode(r)),t=n.insertCell(),t.appendChild(document.createTextNode("Crawl-Delay")),t=n.insertCell(),t.appendChild(document.createTextNode(parseInt(l.user_agents[r].crawl_delay,10)))}let a,s;for(s in l.user_agents[r].path_rules){a="Allow","disallow"===l.user_agents[r].path_rules[s]&&(a="Disallow");let e;e=document.createElement("a"),e.className="dashicons dashicons-trash",e.style.cursor="pointer",e.style.color="#e46363",e.dataset.prop0="user_agents",e.dataset.prop1=r,e.dataset.prop2="path_rules",e.dataset.prop3=s,e.addEventListener("click",function(e){i(0,this)},!1),n=o.insertRow(),n.insertCell().appendChild(e),t=n.insertCell(),t.appendChild(document.createTextNode(r)),t=n.insertCell(),t.appendChild(document.createTextNode(a)),t=n.insertCell(),t.appendChild(document.createTextNode(s))}}}}function m(r){let e=document.getElementsByClassName("gofer-seo-input-type-add-field-robots-txt")[0],n=e.querySelector("table.gofer-seo-add-field-robots_txt_rules-sitemaps-table");n.removeChild(n.querySelector("tbody"));let l=n.createTBody();if(0<Object.keys(r.sitemaps).length){n.style.display="table";let t,a,s;for(t in r.sitemaps){let e;e=document.createElement("a"),e.className="dashicons dashicons-trash",e.style.cursor="pointer",e.style.color="#e46363",e.dataset.prop0="sitemaps",e.dataset.prop1=t,e.dataset.prop2="",e.dataset.prop3="",e.addEventListener("click",function(e){i(0,this)},!1),a=l.insertRow(),a.insertCell().appendChild(e),s=a.insertCell(),s.appendChild(document.createTextNode(r.sitemaps[t]))}}}function g(t){let a="",e=document.getElementsByClassName("gofer-seo-input-type-add-field-robots-txt")[0],s=e.querySelector('textarea[name="robots_txt_rules-preview"]');if(!1===document.getElementById("enable_override_robots_txt").checked&&(t=function(e,t){e=JSON.parse(JSON.stringify(e));let a={};for(var s in a.sitemaps=l(e.sitemaps,t.sitemaps),a.user_agents=e.user_agents,t.user_agents)void 0===a.user_agents[s]?a.user_agents[s]=t.user_agents[s]:(0!==parseInt(t.user_agents[s].crawl_delay,10)&&(a.user_agents[s].crawl_delay=t.user_agents[s].crawl_delay),a.user_agents[s].path_rules=Object.assign({},a.user_agents[s].path_rules),a.user_agents[s].path_rules=l(a.user_agents[s].path_rules,t.user_agents[s].path_rules));return a}(Object.assign({},self.originalRules),t)),0<t.sitemaps.length){let e;for(e in t.sitemaps)a+="Sitemap: "+t.sitemaps[e]+"\n";a+="\n"}let r,n;for(r in t.user_agents)for(n in a+="User-agent: "+r+"\n",0!==parseInt(t.user_agents[r].crawl_delay,10)&&(a+="Crawl-delay: "+t.user_agents[r].crawl_delay+"\n"),t.user_agents[r].path_rules)"allow"===t.user_agents[r].path_rules[n]?a+="Allow: "+n+"\n":a+="Disallow: "+n+"\n";s.innerHTML=a}function l(a,s){if(Array.isArray(a)){if(Array.isArray(s))return[...a,...s]}else if("object"==typeof a){let e=Object.assign({},a),t;for(t in s)e[t]=s[t];return e}}this.inputName=s,this.inputTypeset=e,this.originalRules=t,function(a,t){let e=document.getElementsByClassName("gofer-seo-input-name-"+a)[0].querySelector(".gofer-seo-add-item-robots-txt-user-agent-button");e.addEventListener("click",function(e){!function(e,t,a){e.stopPropagation(),e.preventDefault();let s=t+"-user_agents",r=a.wrap.user_agents,n=p(s,r.wrap_dynamic),l=[],o;for(o in r.wrap_dynamic)l[o]="",void 0!==r.wrap_dynamic[o].attrs&&void 0!==r.wrap_dynamic[o].attrs.value&&(l[o]=r.wrap_dynamic[o].attrs.value);if(u(s,r.wrap_dynamic,l),""!==n.user_agent){let e=d(t);if(void 0===e.user_agents[n.user_agent]&&(e.user_agents[n.user_agent]={user_agent:n.user_agent,crawl_delay:0,path_rules:{}}),"crawl_delay"===n.rule_type)e.user_agents[n.user_agent].crawl_delay=n.rule_value;else{if("allow"!==n.rule_type&&"disallow"!==n.rule_type)return;e.user_agents[n.user_agent].path_rules[n.rule_value]=n.rule_type}c(t,e),_(e),g(e)}}(e,a,t)},!1);let s=document.getElementsByClassName("gofer-seo-input-name-"+a+"-user_agents-rule_type")[0].querySelector('select[name="robots_txt_rules-user_agents-rule_type"]');s.addEventListener("change",function(e){!function(e){let t=document.getElementsByClassName("gofer-seo-input-name-"+a+"-user_agents-rule_value")[0].querySelector('input[name="robots_txt_rules-user_agents-rule_value"]');t.value="","crawl_delay"===e.value?(t.type="number",t.min=1,t.value=1):(t.type="text",t.value="/")}(this)},!1);let r=document.getElementsByClassName("gofer-seo-input-name-"+a)[0].querySelector(".gofer-seo-add-item-robots-txt-sitemap-button");r.addEventListener("click",function(e){!function(e,t,a){e.stopPropagation(),e.preventDefault();let s=t+"-sitemaps",r=a.wrap.sitemaps,n=p(s,r.wrap_dynamic),l=[],o;for(o in r.wrap_dynamic)l[o]="",void 0!==r.wrap_dynamic[o].attrs&&void 0!==r.wrap_dynamic[o].attrs.value&&(l[o]=r.wrap_dynamic[o].attrs.value);u(s,r.wrap_dynamic,l);let i=d(t);""===n.sitemap||(i.sitemaps[i.sitemaps.length]=n.sitemap,i.sitemaps=[...new Set(i.sitemaps)],c(t,i),m(i),g(i))}(e,a,t)},!1);let n=document.getElementById("enable_override_robots_txt");n.addEventListener("click",function(e){g(d(self.inputName))},!1)}(this.inputName,this.inputTypeset),_(d(this.inputName)),m(d(this.inputName)),g(d(this.inputName))}window.addEventListener("load",function(){var e={inputTypesets:gofer_seo_l10n_add_field_robots_txt.input_typesets,originalRules:gofer_seo_l10n_add_field_robots_txt.original_rules};let t;for(t in e.inputTypesets)goferSeoInputAddFieldRobotsTxt(t,e.inputTypesets[t],e.originalRules)});