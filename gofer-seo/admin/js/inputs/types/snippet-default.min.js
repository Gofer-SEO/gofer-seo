function goferSeoInputSnippetPreview(e){function s(){if(c())tinymce.editors[0].addEventListener("keyup",function(e){r()},!1);else{let e=document.getElementsByClassName("wp-editor-area")[0];e.addEventListener("change",function(e){r()},!1)}}function r(){n()}function n(){let e="",t="",n="";var i=function(){let e="";e=document.getElementById("post-title-0").value;return e.trim()}(),s=function(){return document.getElementsByName(this.titleInputName)[0].value}();e=""!==s?s:i;let r="";this.enableDescriptionGenerator&&(o=function(){let e="";e=a()?wp.data.select("core/editor").getEditedPostAttribute("content"):c()?tinymce.activeEditor.getContent({format:"raw"}):document.getElementsByClassName("wp-editor-area")[0].innerHTML;return e.trim()}(),s=function(){let e="";e=a()?wp.data.select("core/editor").getEditedPostAttribute("excerpt"):document.getElementById("excerpt").value;return e.trim()}(),this.generateDescriptionUseExcerpt&&""!==s?r=s:this.generateDescriptionUseContent&&""!==o&&(r=o));var o=function(){return document.getElementsByName(this.descriptionInputName)[0].value}();t=r,""!==o&&(t=o),t=p(t),r=p(r),t=l(t,3e3),t.length>this.descriptionLengthTarget&&(n=t,this.enableTrimDescription&&(n=l(n,this.descriptionLengthMax))),t=l(t,this.descriptionLengthTarget),n=n.replace(t,""),r=l(r,this.descriptionLengthTarget),""===e&&(e=this.siteTitle),""===t&&(t=this.siteDescription),function(e,t,n){let i,s=document.getElementsByClassName(this.snippetTitleClassName);for(i=0;i<s.length;i++)s[i].innerText=e;let r=document.getElementsByClassName(this.snippetDescriptionClassName);for(i=0;i<r.length;i++)r[i].innerText=t;let o=document.getElementsByClassName(this.snippetDescriptionLongClassName);for(i=0;i<o.length;i++)o[i].innerText=n}(e,t,n),function(e,t){let n,i=document.getElementsByName(this.titleInputName);for(n=0;n<i.length;n++)i[n].setAttribute("placeholder",e);let s=document.getElementsByName(this.descriptionInputName);for(n=0;n<s.length;n++)s[n].setAttribute("placeholder",t)}(i,r)}function a(){var e=new RegExp("(block-editor-page)");return!!document.body.className.match(e)}function c(){var e=new RegExp("(tmce-active)");return!!document.getElementById("wp-content-wrap").className.match(e)}function l(e,t){return e&&e.length>t?e.slice(0,t).split(" ").slice(0,-1).join(" "):e}function p(e){let t=e;t=t.replace(/(<[^ >][^>]*>)?/gm,""),t=t.replace(/[\r\n]+/gm," ");let n=document.createElement("textarea");return n.innerHTML=t,n.value.trim()}this.descriptionLengthTarget=160,this.descriptionLengthMax=340,this.snippetTitleClassName="gofer-seo-snippet-title",this.snippetDescriptionClassName="gofer-seo-snippet-description",this.snippetDescriptionLongClassName="gofer-seo-snippet-description-long",this.snippetSiteURLClassName="gofer-seo-snippet-site-url",this.titleInputName="gofer_seo_modules-general-title",this.descriptionInputName="gofer_seo_modules-general-description",this.siteTitle="Title",this.siteDescription="Description",this.enableDescriptionGenerator=e.generateDescriptionEnableGenerator,this.generateDescriptionUseContent=e.generateDescriptionUseContent,this.generateDescriptionUseExcerpt=e.generateDescriptionUseExcerpt,this.enableTrimDescription=e.enableTrimDescription,function(){let e=document.getElementsByName("gofer_seo_modules-general-title")[0],t=document.getElementsByName("gofer_seo_modules-general-description")[0];if(e.addEventListener("keyup",function(e){r()},!1),t.addEventListener("keyup",function(e){r()},!1),a())void 0!==window._wpLoadBlockEditor&&window._wpLoadBlockEditor.then(function(){wp.data.subscribe(function(){if("select"in wp.data){let e=wp.data.select("core/editor");(e.isSavingPost()||e.isAutosavingPost()||e.hasChangedContent())&&n()}})});else{let e=document.getElementById("title"),t=document.getElementById("excerpt"),n=document.getElementsByClassName("wp-switch-editor");e.addEventListener("keyup",function(e){r()},!1),t.addEventListener("keyup",function(e){r()},!1),s();let i;for(i=0;i<n.length;i++)n[i].addEventListener("click",function(e){s()})}}(),n()}window.addEventListener("load",function(){goferSeoInputSnippetPreview({siteURL:gofer_seo_l10n_snippet.site_url,generateDescriptionEnableGenerator:"1"===gofer_seo_l10n_snippet.generate_description_enable_generator,generateDescriptionUseContent:"1"===gofer_seo_l10n_snippet.generate_description_use_content,generateDescriptionUseExcerpt:"1"===gofer_seo_l10n_snippet.generate_description_use_excerpt,enableTrimDescription:"1"===gofer_seo_l10n_snippet.enable_trim_description})});